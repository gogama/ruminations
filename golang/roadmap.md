ROADMAP for GOLANG PROJECTS
===========================

Minimal framework for useful Lambda functions in GoLang, both for the
synchronous request/response use case and the asynchronous use case.

- Logging and metrics:
    - ~~**aws-embedded-metrics-go** - A decent job is already done with
      https://github.com/prozz/aws-embedded-metrics-golang but it
      depends on `encoding/json` for marshaling whereas Zap's marshaling
      is a lot more efficient. Also has weird ergonomics in terms of
      pushing some default values on you. Could theoretically be redone
      using `zap/zapcore`, basically using `NewJSONEncoder`. Worth it?
    - **structlog** - ~~Minimal footprint package for structured
      logging, with separation of concerns, but geared at total
      simplicity.~~ Already available in [Zap](https://github.com/uber-go/zap)
      and note if you use non-Sugared loggers you get a more
      reasonable method name and better performance, and also note that
      Zap has its own minimal-reflection, minimal allocation, JSON
- Lambda framework:
    - **spigot** - Core Lambda framework library with small footprint
      support for:
        - a request context that doesn't use the noun "context" and
          which contains a GoLang context and access to:
            - metrics
            - logging
        - environment variable support for logging level
        - basic runtime stats for a Lambda: invocation count, uptime,
          is this a cold start, etc.
        - filter chains
        - known Lambda event translations
    - **spigot-pump** - Extension framework for efficiently using
        function resources while the function is running. Includes
        basic pumping framework which can be installed as a spigot
        filter, plus:
            - a write-through LRU type cache;
            - a work queue where you can submit jobs to the queue
              and they only run while the spigot is open;
            - a "service" framework where you can give it a "service"
              and it will invoke that "service" with a context once
              the spigot opens.
- Smithy framework:
   - **smithy-shapegen-go** - Generate Go structures, validation code,
     *etc.* from Smithy model.
            - no, or minimal, pointers;
            - ideally just comes with marshalling tags;
   - Some kind of event driver, TBD, which has a minimal footprint and
     can unmarshal various kinds of Lambda events into Go structures
     generated by **smithy-shapegen-go** and push them to the correct
     handler code based on an API gateway model lookup table of some
     kind. Ideally has minimal or zero code generation footprint.

After that, a general purpose framework for monitor setup that works
equally simply in a basic project with one CloudFormation stack in one
AWS account and scales to hundreds of stacks and hundreds of accounts.
